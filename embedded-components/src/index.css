@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
}

@layer components {
  *,
  :before,
  :after {
    @apply eb-border-border;
  }
  body {
    @apply eb-bg-background eb-font-sans eb-text-foreground eb-antialiased;
  }
  menu,
  ol,
  ul {
    @apply eb-list-none;
  }
  a {
    @apply eb-text-inherit;
    text-decoration: none;
  }
  /* Scrollable dialog styles */
  .eb-scrollable-dialog {
    @apply eb-flex eb-h-[90vh] eb-max-h-[90vh] eb-flex-col;
  }

  .eb-scrollable-content {
    @apply eb-min-h-0 eb-flex-1 eb-overflow-y-auto;
    scroll-behavior: smooth;
    position: relative;
    /* Add padding to create space between content and scrollbar */
    padding-right: 16px;
    /* Firefox scrollbar */
    scrollbar-width: thin;
    scrollbar-color: rgb(209 213 219) rgb(243 244 246);
  }

  /* Visual scroll indicators using CSS gradients */
  .eb-scrollable-content::before {
    content: '';
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    height: 12px;
    background: linear-gradient(to bottom, hsl(0 0% 100% / 0.9), transparent);
    z-index: 10;
    pointer-events: none;
    margin-bottom: -12px;
  }

  .eb-scrollable-content::after {
    content: '';
    position: sticky;
    bottom: 0;
    left: 0;
    right: 0;
    height: 12px;
    background: linear-gradient(to top, hsl(0 0% 100% / 0.9), transparent);
    z-index: 10;
    pointer-events: none;
    margin-top: -12px;
  }

  /* Ensure content padding for better scrolling experience */
  .eb-scrollable-content > * {
    @apply eb-pb-4;
  }

  /* Custom scrollbar styling */
  .eb-scrollable-content::-webkit-scrollbar {
    width: 8px;
  }

  .eb-scrollable-content::-webkit-scrollbar-track {
    @apply eb-rounded-md eb-bg-gray-100;
  }

  .eb-scrollable-content::-webkit-scrollbar-thumb {
    @apply eb-rounded-md eb-bg-gray-300;
  }

  .eb-scrollable-content::-webkit-scrollbar-thumb:hover {
    @apply eb-bg-gray-400;
  }

  /* Dialog responsive styles using viewport media queries (not container queries) */
  /* This is needed because dialogs are portaled outside the container */
  .eb-dialog-responsive {
    /* Mobile: full screen */
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    transform: none;
    border-radius: 0;
    padding: 1rem;
  }

  @media (min-width: 640px) {
    .eb-dialog-responsive {
      /* Desktop: centered dialog */
      top: 50%;
      left: 50%;
      right: auto;
      bottom: auto;
      width: 100%;
      height: auto;
      max-width: 32rem; /* max-w-lg */
      max-height: 85vh;
      transform: translate(-50%, -50%);
      border-radius: 0.5rem; /* rounded-lg */
      padding: 1.5rem; /* p-6 */
    }
  }

  /* Large dialog variant for PaymentFlow and other large content */
  .eb-dialog-responsive-lg {
    /* Mobile: full screen */
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    transform: none;
    border-radius: 0;
    /* Smooth transition for size changes */
    transition:
      width 0.3s ease-in-out,
      height 0.3s ease-in-out,
      max-width 0.3s ease-in-out,
      max-height 0.3s ease-in-out;
  }

  @media (min-width: 640px) {
    .eb-dialog-responsive-lg {
      /* Desktop: centered large dialog */
      top: 50%;
      left: 50%;
      right: auto;
      bottom: auto;
      width: 95vw;
      height: 95vh;
      max-width: 900px;
      max-height: 700px;
      transform: translate(-50%, -50%);
      border-radius: 0.5rem; /* rounded-lg */
      /* Smooth size transition for view changes (e.g., to success view) */
      transition:
        width 0.15s cubic-bezier(0.4, 0, 0.2, 1),
        height 0.15s cubic-bezier(0.4, 0, 0.2, 1),
        max-width 0.15s cubic-bezier(0.4, 0, 0.2, 1),
        max-height 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Success state - smaller dialog with animated transition */
    /* Note: Using fixed values instead of 'auto' to enable CSS transitions */
    .eb-dialog-responsive-lg.eb-dialog-success {
      width: 500px;
      height: fit-content;
      max-width: 500px;
      max-height: 90vh;
    }
  }
}
